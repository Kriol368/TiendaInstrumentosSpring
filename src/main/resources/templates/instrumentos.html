<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Instrumentos</title>
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css}">
</head>
<body style="background-color: #f0f8f0; font-family: Arial, sans-serif;">

<div class="container mt-4">

    <!-- Título principal -->
    <div class="text-center mb-4">
        <h1 style="color: #2d5016; font-weight: bold;">INVENTARIO DE INSTRUMENTOS</h1>
        <p class="text-muted">Gestión del catálogo musical</p>
    </div>

    <!-- Contador y botón -->
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="card" style="background-color: #e8f5e8; border: 1px solid #2d5016;">
                <div class="card-body text-center">
                    <h5 class="card-title text-dark">Total Registrados</h5>
                    <h2 class="text-success" th:text="${instrumentos.size()}">0</h2>
                </div>
            </div>
        </div>
        <div class="col-md-6 d-flex align-items-center justify-content-end">
            <a th:href="@{/instrumentos/nuevo}" class="btn"
               style="background-color: #4a7c59; color: white; font-weight: bold;">
                + NUEVO INSTRUMENTO
            </a>
        </div>
    </div>

    <!-- Tabla -->
    <div class="card shadow">
        <div class="card-header" style="background-color: #4a7c59; color: white;">
            <h4 class="mb-0">LISTA DE INSTRUMENTOS</h4>
        </div>
        <div class="card-body p-0">
            <table class="table table-striped table-hover mb-0">
                <thead style="background-color: #e8f5e8;">
                <tr>
                    <th width="8%">ID</th>
                    <th width="25%">NOMBRE</th>
                    <th width="20%">FABRICANTE</th>
                    <th width="15%">AÑO</th>
                    <th width="15%">PRECIO</th>
                    <th width="17%" class="text-center">ACCIONES</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="instrumento : ${instrumentos}">
                    <td class="fw-bold" th:text="${instrumento.id_instrumento}">1</td>
                    <td th:text="${instrumento.nombre}">Nombre</td>
                    <td>
                                <span class="badge rounded-pill"
                                      style="background-color: #8fbc8f; color: #2d5016;"
                                      th:text="${instrumento.fabricante}">
                                    Fabricante
                                </span>
                    </td>
                    <td>
                                <span class="badge rounded-pill bg-secondary"
                                      th:text="${instrumento.anoFacbricacion}">
                                    2021
                                </span>
                    </td>
                    <td class="fw-bold text-success">
                        $<span th:text="${#numbers.formatDecimal(instrumento.precio, 1, 2)}">1,499.50</span>
                    </td>
                    <td class="text-center">
                        <a th:href="@{/instrumento/{id}(id=${instrumento.id_instrumento})}"
                           class="btn btn-sm btn-outline-primary me-1">
                            Ver
                        </a>
                        <a th:href="@{/instrumentos/editar/{id}(id=${instrumento.id_instrumento})}"
                           class="btn btn-sm btn-outline-warning me-1">
                            Editar
                        </a>
                        <a th:href="@{/instrumentos/borrar/{id}(id=${instrumento.id_instrumento})}"
                           class="btn btn-sm btn-outline-danger"
                           onclick="return confirm('¿Borrar instrumento?')">
                            Borrar
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Mensaje si no hay datos -->
    <div th:unless="${instrumentos.size() > 0}" class="text-center mt-5">
        <div class="alert alert-warning">
            <h5>No hay instrumentos registrados</h5>
            <p>Comienza agregando tu primer instrumento</p>
            <a th:href="@{/instrumentos/nuevo}" class="btn btn-success">
                Agregar Primer Instrumento
            </a>
        </div>
    </div>

</div>

<style>
    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #f9f9f9;
    }
    .table-hover tbody tr:hover {
        background-color: #e8f5e8 !important;
    }
    .btn-sm {
        padding: 0.25rem 0.5rem;
        font-size: 0.875rem;
    }
</style>

</body>
</html>